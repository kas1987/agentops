# Retro: ag-4dw (Improve /quickstart Workflow)

**Date:** 2026-02-10
**Epic:** ag-4dw

## What Went Well

- The quickstart improvements were small, local, and easy to validate with existing smoke + docs checks.
- Switching “recent files” to dirty-tree-first made quickstart immediately more relevant on real repos.

## What Was Hard

- “Recent files” is deceptively tricky: parsing `git status --porcelain` is error-prone (renames, formatting), so the safer approach is composing file lists from `git diff --name-only` + `git ls-files --others`.

## Do Differently Next Time

- Prefer “define a reusable snippet/variable once” patterns in skills, then reuse them (reduces duplicated logic and drift).
- When a validation gate fails due to environmental assumptions (like `/tmp` layout), fix the gate to be robust rather than hand-waving the failure.

## Patterns to Reuse

- **Monorepo-friendly detection:** shallow scan + prune noisy dirs + print triggering paths.
- **Dirty-tree-first heuristics:** optimize onboarding and validation steps for the user’s current work.

## Anti-Patterns to Avoid

- Parsing `git status` for filenames in shell scripts when `git diff --name-only` provides a cleaner interface.
- Assuming the repo has enough commit history for `HEAD~N` diffs.

